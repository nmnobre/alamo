alamo.program       = sgcptensiontest
plot_file		    = tests/UniaxialTensionSGCP/output

# Trying for strain rate of 2.5e-4 s^-1
# In 1s the strain should be 2.5e-4
# To get to 5.e-2 strain, we need to do simulation for 200s
# In 1s the displacement should be 0.004 nm
# in 200s the displacement should be 0.8 nm

# this is not a time integration, so do
# exactly one timestep and then quit
timestep		    = 1.e-1  # in s
stop_time		    = 1.e0   # in s

# amr parameters
amr.plot_int		    = 1
#amr.plot_dt             = 1.e9
amr.max_level		    = 4
amr.n_cell		    = 16 16 16
amr.blocking_factor	    = 4
amr.regrid_int		    = 1
amr.grid_eff		    = 1.0
amr.thermo.plot_int = 1
amr.thermo.int = 1

# geometry
geometry.prob_lo	    = -7.5 -7.5 -7.5  # in nm
geometry.prob_hi	    = 7.5 7.5 7.5
geometry.is_periodic	    = 0 0 0

crack.modulus_scaling_max = 0.5
crack.refinement_threshold = 0.01

crack.type = constant
crack.constant.G_c = 2.7e3
crack.constant.zeta = 1.e-5
crack.constant.mobility = 1.0e-5
crack.constant.gtype = square
crack.constant.wtype = square
crack.constant.threshold = 0.0

crack.ic.type = ellipsoid
crack.ic.ellipsoid.center = 0.0 0.0 0.0
crack.ic.ellipsoid.radius = 1.0 1.0 1.0
crack.ic.ellipsoid.eps = 0.01


# ellipse configuration
#ic.type        = ellipse
#ic.ellipse.a   = 1.0 0.75 0.5  # ellipse radii
#ic.ellipse.x0  = 0 0 0 # location of ellipse center
#ic.ellipse.eps = 0.1 # diffuse boundary
##ic.Finclusion  = 0.001 0 0 0 0.001 0 0 0 0.001 # eigenstrain

# elastic moduli - copper
elastic.model1.C11 = 232.2
elastic.model1.C12 = 135.6
elastic.model1.C44 = 117.0

plastic.on = 1
plastic.hardening = 0
plastic.debug = 0
plastic.epsp_evol_int = 1

elastic.model1.hardening.on = 0
#elastic.model1.hardening.g0 = 0.016
#elastic.model1.hardening.gs = 0.0704
#elastic.model1.hardening.h0 = 0.132
#elastic.model1.hardening.hs = 0.008
#elastic.model1.hardening.qh = 1.4

elastic.model1.g_alpha = 0.034
elastic.model1.exp = 0.01

elastic.model1.gam0dot = 1.e6 # in s^-1
elastic.model1.Ke = 7.9
elastic.model1.b = 0.248 #in nm, 0.248e-9
elastic.model1.de = 0.5 # in nm
elastic.model1.ds = 1.0 # in nm
elastic.model1.tau0 = 0.40
elastic.model1.c0 = 0.021
elastic.model1.w1 = 1.0e0
elastic.model1.w2 = 1.0e0
elastic.model1.h = 1.e-4
elastic.model1.q1 = 0.5e0
elastic.model1.q2 = 1.25e0
elastic.model1.rho_s0 = 4.2e-4 # (nm)^-2
elastic.model1.rho_g0 = 0.0 # (nm)^-2
elastic.model1.m_F0 = 3.4e4
elastic.model1.T = 298.e0


elastic.solver.verbose = 3
elastic.solver.nriters = 1
elastic.solver.fixed_iter = 200
elastic.solver.int = 10
elastic.solver.bottom_solver=smoother
elastic.ref_threshold = 1.e-4

### UNIAXIAL TENSION ###

elastic.bc.type = tension_test
elastic.bc.tension_test.type = uniaxial_stress
elastic.bc.tension_test.disp = 3.e-2 # in nm
#elastic.bc.tension_test.disp = (0.,200.0:0.,0.8)

#elastic.bc.type = expression
#elastic.bc.expression.type.yhi = disp disp disp
#elastic.bc.expression.val.yhi = "0.0" "8.e-3*exp(-((x*x+z*z)/2.5))" "0.0"
