alamo.program = fracture
type = static

plot_file     = tests/Fracture2D/output

timestep = 1e-4
stop_time = 1.e-3

amr.plot_int = 1
amr.max_level = 6
amr.n_cell = 64 64
amr.blocking_factor = 16
amr.regrid_int = 10
amr.grid_eff = 1.0
amr.thermo.int = 1

geometry.prob_lo = -0.01 -0.01
geometry.prob_hi = 0.01 0.01
geometry.is_periodic = 0 0

//crack.modulus_scaling_max = 1.e-4
crack.refinement_threshold = 0.01

crack.df.tol_rel = 0.01
crack.df.tol_abs = 0.0
crack.df.el_mult = 1.e11

crack.model1.type = constant
crack.model1.constant.G_c = 2.7e3
crack.model1.constant.zeta = 1.e-5
crack.model1.constant.mobility = 1.0e-5
crack.model1.constant.gtype = square
crack.model1.constant.wtype = square
crack.model1.constant.threshold = 0.0

crack.ic.type = notch
crack.ic.notch.center = -0.01 0.0
crack.ic.notch.orientation = 1.0 0.0
crack.ic.notch.thickness = 3.e-4
crack.ic.notch.length = 2.e-3
crack.ic.notch.eps = 4.e-5
crack.ic.notch.mollifier = erf

material.model1.type = isotropic
material.model1.isotropic.lambda = 121.15e-2
material.model1.isotropic.mu = 80.77e-2

material.refinement_threshold = 1.e-1

interval = 1
print_model = 1
print_residual = 1

elasticop.small=1E-16
solver.verbose = 3
solver.nriters = 1
solver.fixed_iter = 500
solver.bottom_solver = smoother
solver.tol_abs = 1E-16

bc.type = constant
bc.constant.type.xlo = disp trac
bc.constant.type.xhi = disp trac
bc.constant.type.ylo = disp disp
bc.constant.type.xloylo = disp disp
bc.constant.type.xhiylo = disp disp
bc.constant.type.yhi = disp disp
bc.constant.type.xloyhi = disp disp
bc.constant.type.xhiyhi = disp disp
bc.constant.val.yhi = 0.0 8.e-5
bc.constant.val.xloyhi = 0.0 8.e-5
bc.constant.val.xhiyhi = 0.0 8.e-5

#solver.bottom_solver = smoother
#solver.verbose = 4
#solver.max_iter = 10000
#solver.max_fmg_iter = 0
#solver.bottom_max_iter = 1
#solver.fixed_iter = 1000
#solver.tol_rel = 1.0e-6
#solver.tol_abs = 1.0e-6
#solver.bottom_tol_rel = 1.0e-6
#solver.bottom_tol_abs = 1.0e-6
#solver.pre_smooth = 4
#solver.post_smooth = 4
#solver.omega = 0.08