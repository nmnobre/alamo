alamo.program   = fracture
type            = static

plot_file   = tests/Fracture2DDeflection/output

timestep    = 1e-4
stop_time   = 1.e1

amr.plot_int    = 1000
amr.max_level   = 6
amr.n_cell      = 64 64
amr.blocking_factor = 16
amr.regrid_int      = 10
amr.grid_eff        = 1.0
amr.thermo.int      = 1
amr.node.all        = 1

geometry.prob_lo        = -0.01 -0.01
geometry.prob_hi        = 0.01 0.01
geometry.is_periodic    = 0 0

crack.refinement_threshold = 0.01

crack.df.tol_rel    = 1.e-2
crack.df.tol_abs    = 0.0
crack.df.el_mult    = 1.e11
crack.df.mult_Gc    = 0.75
crack.df.beta       = 0.0

crack.model1.type               = constant
crack.model1.constant.G_c       = 2.7e3
crack.model1.constant.zeta      = 1.e-5
crack.model1.constant.mobility  = 1.0e-5
crack.model1.constant.gtype     = 4c3
crack.model1.constant.wtype     = 4c3
crack.model1.constant.threshold = 0.0

crack.model2.type               = constant
crack.model2.constant.G_c       = 2.7e3
crack.model2.constant.zeta      = 1.e-5
crack.model2.constant.mobility  = 1.0e-5
crack.model2.constant.gtype     = 4c3
crack.model2.constant.wtype     = 4c3
crack.model2.constant.threshold = 0.0

crack.ic.type               = notch
crack.ic.notch.center       = -0.01 0.0
crack.ic.notch.orientation  = 1.0 0.0
crack.ic.notch.thickness    = 3.e-4
crack.ic.notch.length       = 2.e-3
crack.ic.notch.eps          = 4.e-5
crack.ic.notch.mollifier    = erf

crack.bc.type.xhi = NEUMANN
crack.bc.type.xlo = NEUMANN
crack.bc.type.yhi = NEUMANN
crack.bc.type.ylo = NEUMANN

material.model1.type                = isotropic
material.model1.isotropic.lambda    = 121.15e-2
material.model1.isotropic.mu        = 80.77e-2

material.model2.type                = isotropic
material.model2.isotropic.lambda    = 121.15e-2
material.model2.isotropic.mu        = 80.77e-2

material.refinement_threshold       = 1.e-1
material.ic.type                    = ellipse
material.ic.ellipse.number_of_inclusions = 1
material.ic.ellipse.x0              = 0.0 1.e-4
material.ic.ellipse.a               = 2.5e-3 2.5e-3
material.ic.ellipse.eps             = 3.e-4

interval = 1
print_model = 1
print_residual = 1

elasticop.small         = 1E-4
solver.verbose          = 3
solver.nriters          = 1
solver.fixed_iter       = 500
solver.bottom_solver    = smoother
solver.tol_abs          = 1E-16


bc.type                 = constant
bc.constant.type.xlo    = disp trac #disp trac
bc.constant.type.xhi    = disp trac #disp trac
bc.constant.type.ylo    = disp disp
bc.constant.type.xloylo = disp disp
bc.constant.type.xhiylo = disp disp
bc.constant.type.yhi    = disp disp
bc.constant.type.xloyhi = disp disp
bc.constant.type.xhiyhi = disp disp
bc.constant.val.yhi     = 0.0 2.e-5
bc.constant.val.xloyhi  = 0.0 2.e-5
bc.constant.val.xhiyhi  = 0.0 2.e-5

amrex.throw_exception = 1

